# 中国全域可再生能源出力因子计算

## 项目简介

本项目利用 [Atlite](https://atlite.readthedocs.io/) 库，基于历史气象再分析数据计算了中国区域 2020 年的风电和光伏出力因子时间序列。出力因子反映了可再生能源在不弃电情况下的实际出力与装机容量之比。
FAQ:
F: 请教一下Github上传的中国可再生能源出力因子计算，目前是只有2020年的对吧？如果换成别的年份，按理说就需要找到该年的气象数据？
A: 对，但是每年的气象差不多，只是装机不一样。所以如果要用2023年的出力，就可以用2023年的装机+2020年的标么值，这种做法被称为以2020气象年为基准年，是常见的做法。


## 数据来源

- 气象数据：ERA5 再分析数据
- 空间分辨率：约 30km × 30km
- 时间分辨率：小时级
- 时间范围：2020 年全年

## 使用方法

### 1. 环境配置

（对于一般用户，可以从2开始，1是为了运行`scripts/build_renewable_profile.py`来生成全国出力因子数据，这一步我已经运行好了，生成的数据放在了云盘中）

使用 conda 创建并激活环境：

```bash
conda env create -f environment.yaml
conda activate pypsa-china
```

### 2. 数据准备

由于原始数据文件较大，需要从[清华云盘](https://cloud.tsinghua.edu.cn/d/2e4a39868ab34d418157/)下载数据文件，并放置到项目相应目录中。

### 3. 运行脚本

在项目主目录下依次运行以下脚本：

1. 生成全国出力因子数据：（这一步我已经运行好了，直接运行下面的脚本即可）

```bash
python scripts/build_renewable_profile.py
```


2. 提取特定地点的出力因子数据（以安徽省为例）：

```bash
python scripts/extract_renewable_factor.py
```
对于其他地点，只要输入所需地点经纬度数据即可。

## Simulation 模块说明

### 功能概述

simulation 模块提供了一个简化的可再生能源出力模拟框架，用于复现基本的光伏和风电出力计算过程。

### 注意事项

1. 这是一个简化的模拟模型，主要用于教学和演示目的
2. 实际的发电量还需要考虑多种因素，如：
   - 光伏发电：阴影效应、灰尘遮挡、组件老化等
   - 风力发电：尾流效应、空气密度变化、机组效率等
3. 如需更精确的计算结果，建议使用完整的 Atlite 模型

### 待改进事项

1. 模型参数需要进一步标定和验证
2. 需要添加更多实际运行条件的影响因素
3. 代码结构和文档需要进一步完善

